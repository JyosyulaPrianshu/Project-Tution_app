{% extends 'shared/base.html' %}
{% block content %}
<main class="mx-auto flex min-h-screen w-full items-center justify-center bg-gray-900 text-white">
  <section class="flex w-[30rem] flex-col space-y-10">
    <div class="text-center text-3xl font-bold">Update UPI Settings</div>
    <form method="POST" class="space-y-8">
      {{ form.hidden_tag() }}
      <div>
        {{ form.upi_id.label(class_="block mb-2") }}
        {{ form.upi_id(class_="w-full px-3 py-2 rounded text-black") }}
      </div>
      <div>
        {{ form.monthly_due_amount.label(class_="block mb-2") }}
        {{ form.monthly_due_amount(class_="w-full px-3 py-2 rounded text-black") }}
      </div>
      <button type="submit" class="w-full bg-indigo-600 py-2 font-bold rounded hover:bg-indigo-400">
        Update UPI Settings
      </button>
    </form>
    <div class="bg-gray-800 rounded-lg p-6 mb-6 flex flex-col items-center mt-6">
      <div class="text-xl font-bold mb-2">Scheduled Monthly Dues</div>
      <div class="mb-3 text-center text-gray-300">
        <p>This toggle controls whether monthly dues are automatically scheduled for all students each month.</p>
        <p>When <span class="font-bold">enabled</span>, the system will add dues for every student at the start of each month. When <span class="font-bold">disabled</span>, no new monthly dues will be scheduled until you enable it again.</p>
      </div>
      <form method="POST" class="flex flex-col items-center gap-3">
        <input type="hidden" name="toggle_schedule" value="{{ 'disable' if schedule_enabled else 'enable' }}">
        <div class="mb-2">
          <span class="inline-block px-4 py-1 rounded-full font-semibold text-sm {{ 'bg-green-600 text-white' if schedule_enabled else 'bg-red-600 text-white' }}">
            {{ 'Enabled' if schedule_enabled else 'Disabled' }}
          </span>
        </div>
        <button type="submit" class="px-6 py-2 rounded font-bold {{ 'bg-red-600 hover:bg-red-500' if schedule_enabled else 'bg-green-600 hover:bg-green-500' }}">
          {{ 'Disable' if schedule_enabled else 'Enable' }} Schedule Monthly Dues
        </button>
      </form>
    </div>
  </section>
</main>
{% endblock %} 